# last.fm events
=============
last.fm Events – приложение, которое должно информировать пользователя о концертах, фестивалях и других музыкальных мероприятиях, которые в ближайшее время пройдут в его городе и которые ему могут быть интересны.

Данные о музыкальных предпочтениях пользователя берутся из аккаунта last.fm или библиотеки iTunes.

Источником информации о предстоящих событиях является сайт last.fm.

Целевая аудитория приложения – люди, которые обычно используют сайт last.fm для поиска информации о концертах, которые они могли бы посетить.

## Что такое last.fm

last.fm – социальная сеть для людей, интересующихся музыкой и активно ее слушающих. С помощью специального приложения last.fm собирает статистику прослушанных пользователем музыкальных треков и публикует ее на сайте. На основании этой статистики last.fm находит людей со схожим вкусам, а также показывает пользователям список неизвестных им треков и исполнителей, которые могли бы их заинтересовать.

Помимо прочего, на сайте last.fm есть раздел События (<http://last.fm/events>), в котором можно найти анонсы предстоящих концертов.

## Задача

Создать приложение, которое будет предоставлять пользователю информацию о предстоящих концертах с учетом его местоположения и музыкальных предпочтений. Предоставление этой информации должно осуществляться в следующих формах:
* Отправка пользователю через центр уведомлений OS X 10.8 напоминаний о рекомендованных событиях, которые пройдут в городе, где находится пользователь.
* Отображение списка рекомендованных событий, которые пройдут в городе, где находится пользователь, в ближайший месяц.
* Отображение списка всех событий, которые пройдут в городе, где находится пользователь, в ближайший месяц.

## Решение

Решение данной задачи предполагает, что приложение должно собирать и периодически следить за обновлением следующих данных: список исполнителей, интересующих пользователя, его местонахождение, список предстоящих концертов.
Определение рекомендуемых пользователю событий осуществляется путем сопоставления списка исполнителей и списка предстоящих событий.

Список исполнителей берется с сайта last.fm, либо, если пользователь не указал в настройках имя своего last.fm-аккаунта, из локальной библиотеки iTunes.

Взаимодействие с базой last.fm осуществляется через REST API (<http://last.fm/api>).

Описание библиотеки iTunes по умолчанию находится в файле ~/Music/iTunes/iTunes Music Library.xml.

Местоположение пользователя автоматически определяется веб-сервисом last.fm по IP-адресу. В случае, когда пользователь явным образом указал местоположение в настройках, оно должно передаваться в API-запросе.

Список ближайших событий также предоставляется веб-сервисом last.fm.

## Сценарий использования

Использование данного приложения предполагает, что участие пользователя должно быть минимальным. Приложение работает в фоновом режиме, периодически обновляет данные и отправляет пользователю уведомления. При клике на уведомлении в браузере должна открываться страница с описанием события на last.fm.

(Здесь должны быть две картинки)

При желании пользователь может посмотреть список всех предстоящих концертов на месяц вперед. Чтобы сделать это, нужно запустить приложение в Lauchpad. Этот список отображается в отдельном окне. При закрытии окна приложение продолжает работать в фоновом режиме.

(Здесь должны быть еще две картинки)

## Настройки приложения

В окне настроек приложения должны быть следующие опции:

* Источник данных о музыкальных предпочтениях пользователя – аккаунт last.fm  или библиотека iTunes. При выборе первого пункта, необходимо указать имя пользователя last.fm.
* Географическое местоположение. По умолчанию не указано и определяется автоматически.
* Настройки уведомлений. Должна быть возможность выбрать, за сколько дней до события необходимо показывать уведомления. Варианты: один день, неделя, месяц. Эти варианты не являются взаимоисключающими (то есть, уведомление об одном событии может быть показано несколько раз, например, за неделю и за месяц). По умолчанию выбраны варианты день и неделя.

## Прочие требования

* При первом запуске пользователю должно быть предложить указать имя аккаунта last.fm и добавить данное приложение в автозагрузку.
* При запуске приложение работает в фоновом режиме, окно со списком событий скрыто, иконки в доке видно быть не должно.
* Чтобы открыть окно со списком событий, пользователь должен запустить приложение через Lauchpad.
* Обновление данных должно производиться раз в сутки.
* Необходимо предусмотреть случай, когда файл библиотеки iTunes находится в месте, отличном от того, где он должен быть по умолчанию.
* При вводе имени аккаунта last.fm необходимо проверять его наличие.
