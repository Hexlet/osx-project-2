Описание проблемы.
==
На работе вторым компьютером стоит MacMini. На нём, как в старой, так и в новой версиях, отсутствует индикатор работы жёсткого диска. Специфика запускаемых на нём приложений такова, что часто непонятно — то ли занят процессор, то ли идёт работа с диском, то ли программа попросту зависла.
Использование стандартного Activity Monitor неудобно, так как для работы с диском единственное что он может показывать в доке — это график чтения/записи.
Поиск в интернете тоже ничего конкретного не дал, было найдено несколько программ, но все они предлагают избыточную функциональность и сильно «захламляют» status bar.

Описание приложения.
==
Иконка в status bar'е, которая полностью повторяет функционал индикатора состояния жёсткого диска на системном блоке.
Пример:
Меню настроек, вызываемое при нажатии на иконку в status bar'е. Позволяет выбирать границы активности диска (при минимуме или меньше иконка «не горит», при максимуме или больше «горит»). Для наглядности, выбор происходит на графике активности диска за последнюю минуту.
Пример:

Целевая аудитория.
==
Практически все владельцы MacMini которым надоело гадать, зависло ли приложение/система, или просто что-то читает/пишет на диск. И которые не хотят ставить «комбайны», которые помимо активности диска выводят все возможные параметры системы на полэкрана.
Сценарий использования.
==
1. Запустить приложение.
2. Выполнить типичные действия.
3. Открыть меню настроек, выставить минимальное и максимальное значения по графику нагрузки диска.

Поведение приложения.
==

Старт.
--
При старте приложение пытается загрузить сохранённые параметры (мин/макс), в случае неудачи (первый запуск), приложение использует значения по-умолчанию.

Работа.
--
В процессе работы приложение:
* с некоторой периодичностью опрашивает систему
* получает значение активности диска
* в зависимости от значения активности рисует «активную» или «неактивную» иконки
* запоминает значение активности для использования в графике меню настройки

Меню настроек:
--
При нажатии на иконку приложения в status bar'е, появляется меню настроек. В нём пользователь в реальном времени видит график активности жёсткого диска за последнюю минуту и может выбрать граничные условия. После выхода из меню настройки, выбранные пользователем значения сохраняются.

Завершение.
--
Приложение ничего не делает по завершении, так как настройки сохраняются при закрытии окна настроек.

Детальное описание работы приложения.
==
* в приложении должен быть класс, адаптирующий DiskActivityProtocol
* DiskActivityProtocol содержит единственную функцию GetDiskActivity(), которая возвращает активность диска
это сделано для того, чтобы отвязать функционал интерфейса от сбора данных
к примеру, для тестирования интерфейса будет написан класс RandomActivity, который будет возвращать случайные значения
* приложение создаёт/регистрирует таймер, который через определённые промежутки вызывает некоторую функцию-обработчик (к примеру, Update())
* функция Update() обращается к объекту-адаптеру DiskActivityProtocol и получает от него активность диска (activity)
* activity (вместе с текущим временем) сохраняется во внутреннем массиве (для показа графика)
* из внутреннего массива удаляются данные старее чем 1 минута
* activity проверяется на min/max и, в зависимости от значения, показывается «активная» или «неактивная» иконки в status bar'е
настройки
	* график в настройках показывается через OpenGL
	* должен быть специальный компонент, который выводит на экран массив активности диска
	* должен быть специальный компонент, который заменяет vertical slider на slider с двумя «точками»
	* при каждом Update() компоненту (если открыты настройки) шлётся сообщение о необходимости перерисовки.

Использованные материалы.
==
Получение активности элементов системы — в Cocoa отсутствует этот функционал, был найден проект XRG http://gauchosoft.com/xrg/, исходники которого выложены на GitHub, и из которого предполагается взять код, отвечающий за активность диска.
Создание приложений в status bar'е (menulet application) — в интернете существует много примеров, за основу предполагается взять http://cocoatutorial.grapewave.com/2010/01/creating-a-status-bar-application/